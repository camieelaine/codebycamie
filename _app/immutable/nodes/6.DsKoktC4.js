import{n as k,a as u,t as I}from"../chunks/disclose-version.BweVWaE4.js";import"../chunks/legacy.CzNPM_27.js";import{p as K,at as L,J as P,i as t,l as Q,o as m,t as i,c as p,s as f,f as R,a as W,r as n,n as X}from"../chunks/runtime.B62Oy5PG.js";import{s as U}from"../chunks/render.D689Qglb.js";import{e as G,i as F}from"../chunks/each.Bx3-hWlF.js";import{s as a}from"../chunks/attributes.DHkN4hbZ.js";import{p as j}from"../chunks/proxy.BIRlKTdv.js";import{o as Y}from"../chunks/index-client.B0eWE0A1.js";import{a as B}from"../chunks/attributes.CaPm3nup.js";import{c as Z,t as tt,e as q,a as et,l as at}from"../chunks/dsv.DDOdWP2G.js";import{t as rt,l as ot}from"../chunks/linear.DL41VL5L.js";import{s as st,i as it,c as nt}from"../chunks/step.CYXiRwRV.js";var lt=k('<text class="fill-gray-400" y="6" dy="0.71em" font-size="14px" text-anchor="middle"> </text>'),ct=k(`<text class="fill-gray-400"${B("x",-6)} dy="0.32em" font-size="14px" text-anchor="end"> </text><line x1="0" stroke="currentColor" stroke-opacity="0.1"></line>`,1),dt=k("<stop></stop>"),pt=k(`<svg style="max-width: 100%; height: auto;"><g><!><line stroke="currentColor" stroke-opacity="0.1"></line></g><g><!><text${B("x",-26)} class="fill-gray-400" font-size="14px" text-anchor="start">Temperature (°F) ↑</text></g><defs><linearGradient id="temperature-gradient" gradientUnits="userSpaceOnUse" x1="0" x2="0"></linearGradient></defs><path opacity="1" fill="none" stroke="url(#temperature-gradient)" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round"></path></svg>`);function mt(w,x){K(x,!0);let l=L(j([]));Y(async()=>{try{const e=await Z("/src/lib/data/fishcounts_fishcreek2024.csv");P(l,j(e.map(r=>({date:new Date(r.count_date),temperature:r.fish_count})))),console.log(e,t(l))}catch(e){console.error("Error loading CSV file:",e)}});const c=928,g=500,o={top:20,right:30,bottom:30,left:40};let S=m(()=>tt().domain(q(t(l),e=>e.count_date)).range([o.left,c-o.right])),d=m(()=>ot().domain(q(t(l),e=>e.fish_count)).nice().range([g-o.bottom,o.top])),E=m(()=>st(t(d).domain(),it)),J=m(()=>at().curve(nt).defined(e=>!isNaN(e.fish_count)).x(e=>t(S)(e.count_date)).y(e=>t(d)(e.fish_count))),T=m(()=>rt(0,1,10));Q(()=>console.log(t(T)));let M=m(()=>t(S).ticks(c/80)),O=m(()=>t(d).ticks(5));var v=pt();a(v,"width",c),a(v,"height",g),a(v,"viewBox",`0 0 ${c} ${g}`);var _=p(v),z=p(_);G(z,17,()=>t(M),F,(e,r)=>{var s=lt();i(()=>a(s,"x",t(S)(t(r))));var h=p(s,!0);i(()=>U(h,et("%b")(t(r)))),n(s),u(e,s)});var D=f(z);n(_);var y=f(_),N=p(y);G(N,17,()=>t(O),F,(e,r)=>{var s=ct(),h=R(s);i(()=>a(h,"y",t(d)(t(r))));var H=p(h,!0);n(h);var C=f(h);i(()=>a(C,"y1",t(d)(t(r)))),i(()=>a(C,"y2",t(d)(t(r)))),i(()=>{U(H,t(r)),a(C,"x2",c-o.left-o.right)}),u(e,s)});var V=f(N);i(()=>a(V,"y",t(d)(t(d).domain()[1]))),n(y);var $=f(y),b=p($);G(b,21,()=>t(T),F,(e,r)=>{var s=dt();i(()=>a(s,"stop-color",t(E).interpolator()(t(r)))),i(()=>a(s,"offset",t(r))),u(e,s)}),n(b),n($);var A=f($);i(()=>a(A,"d",t(J)(t(l)))),n(v),i(()=>{a(_,"transform",`translate(0, ${g-o.bottom})`),a(D,"x1",o.left),a(D,"x2",c-o.right),a(y,"transform",`translate(${o.left}, 0)`),a(b,"y1",g-o.bottom),a(b,"y2",o.top)}),u(w,v),W()}var ft=I('<div class="page-container page-spacing"><header class="text-center"><h3 class="h3">Fish Counts</h3></header>  <div class="bg-success-800"><!></div> <hr class="divider"></div>');function Ct(w){var x=ft(),l=f(p(x),2),c=p(l);mt(c,{}),n(l),X(2),n(x),u(w,x)}export{Ct as component};
